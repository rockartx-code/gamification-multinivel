<label [class]="wrapperClass">
  <span *ngIf="label" class="text-[11px] text-[#5A5A5A] inline-flex items-center gap-2">
    <i *ngIf="iconClass" [class]="iconClass" aria-hidden="true"></i>
    {{ label }}
  </span>

  <div class="relative">
    <i
      *ngIf="resolvedLeadingIconClass"
      [class]="resolvedLeadingIconClass + ' pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 text-xs text-[#6B6B6B]'"
      aria-hidden="true"
    ></i>

    <ng-container [ngSwitch]="kind">
      <input
        *ngSwitchCase="'input'"
        [type]="type"
        [name]="name"
        [placeholder]="placeholder"
        [disabled]="disabled"
        [readonly]="readonly"
        [min]="min"
        [max]="max"
        [step]="step"
        [accept]="accept"
        [class]="inputClass + ' ' + inputStateClass"
        [ngModel]="value"
        (ngModelChange)="updateValue($event)"
        (blur)="markTouched()"
      />

      <textarea
        *ngSwitchCase="'textarea'"
        [name]="name"
        [placeholder]="placeholder"
        [rows]="rows"
        [disabled]="disabled"
        [readonly]="readonly"
        [class]="inputClass + ' ' + inputStateClass"
        [ngModel]="value"
        (ngModelChange)="updateValue($event)"
        (blur)="markTouched()"
      ></textarea>

      <select
        *ngSwitchCase="'select'"
        [name]="name"
        [disabled]="disabled"
        [class]="inputClass + ' ' + inputStateClass"
        [ngModel]="value"
        (ngModelChange)="updateValue($event)"
        (blur)="markTouched()"
      >
        <option *ngIf="placeholder" [ngValue]="''">{{ placeholder }}</option>
        <option *ngFor="let option of options" [ngValue]="option.value">{{ option.label }}</option>
      </select>
    </ng-container>
  </div>

  <small *ngIf="helpText && !errorText" class="mt-1 block text-xs text-muted">{{ helpText }}</small>
  <small *ngIf="errorText" class="mt-1 block text-xs text-danger">{{ errorText }}</small>
</label>
